{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction HeaderComponent_ul_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\", 8)(1, \"li\", 9)(2, \"a\", 10);\n    i0.ɵɵtext(3, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\", 9)(5, \"a\", 11);\n    i0.ɵɵtext(6, \"Seller\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\", 9)(8, \"a\", 12);\n    i0.ɵɵtext(9, \"Add Product\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\", 9)(11, \"a\", 13);\n    i0.ɵɵtext(12, \"List\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"li\", 9)(14, \"a\", 14);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"titlecase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"li\", 9)(18, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_7_Template_a_click_18_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.logout());\n    });\n    i0.ɵɵtext(19, \"Seller-Logout\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"li\", 9)(21, \"a\", 16);\n    i0.ɵɵtext(22, \"User-Login/Sign-up\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 1, ctx_r0.sellerName));\n  }\n}\nfunction HeaderComponent_ul_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\", 8)(1, \"li\", 9)(2, \"a\", 10);\n    i0.ɵɵtext(3, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\", 9)(5, \"a\", 11);\n    i0.ɵɵtext(6, \"Seller\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\", 9)(8, \"a\", 14);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"titlecase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"li\", 9)(12, \"a\", 17);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"li\", 9)(15, \"a\", 18);\n    i0.ɵɵtext(16, \"My Orders\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"li\", 9)(18, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_8_Template_a_click_18_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.userLogout());\n    });\n    i0.ɵɵtext(19, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 3, ctx_r1.userName));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", ctx_r1.cartItems > 0 ? \"cart-page\" : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Cart(\", ctx_r1.cartItems, \")\");\n  }\n}\nfunction HeaderComponent_ul_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\", 8)(1, \"li\", 9)(2, \"a\", 10);\n    i0.ɵɵtext(3, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\", 9)(5, \"a\", 12);\n    i0.ɵɵtext(6, \"Add Product\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\", 9)(8, \"a\", 13);\n    i0.ɵɵtext(9, \"List\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\", 9)(11, \"a\", 14);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"titlecase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"li\", 9)(15, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_9_Template_a_click_15_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.logout());\n    });\n    i0.ɵɵtext(16, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 1, ctx_r2.sellerName));\n  }\n}\nfunction HeaderComponent_div_10_ul_6_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 28)(1, \"a\", 29);\n    i0.ɵɵlistener(\"mousedown\", function HeaderComponent_div_10_ul_6_li_1_Template_a_mousedown_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const item_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.redirectToDetails(item_r13.id));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.name);\n  }\n}\nfunction HeaderComponent_div_10_ul_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 26);\n    i0.ɵɵtemplate(1, HeaderComponent_div_10_ul_6_li_1_Template, 3, 1, \"li\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.searchResult);\n  }\n}\nfunction HeaderComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"form\", 21)(2, \"input\", 22, 23);\n    i0.ɵɵlistener(\"keyup\", function HeaderComponent_div_10_Template_input_keyup_2_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.searchProduct($event));\n    })(\"blur\", function HeaderComponent_div_10_Template_input_blur_2_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.hideSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_div_10_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const _r10 = i0.ɵɵreference(3);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.submitSearch(_r10.value));\n    });\n    i0.ɵɵtext(5, \" Search \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, HeaderComponent_div_10_ul_6_Template, 2, 1, \"ul\", 25);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.searchResult);\n  }\n}\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor(route, product) {\n      this.route = route;\n      this.product = product;\n      this.menuType = 'default';\n      this.sellerName = \"\";\n      this.userName = \"\";\n      this.cartItems = 0;\n    }\n    ngOnInit() {\n      // Subscribe to route events to determine the menu type based on the URL\n      this.route.events.subscribe(val => {\n        if (val.url) {\n          if (localStorage.getItem('seller') && val.url.includes('seller')) {\n            // Get seller information from local storage and set seller name\n            let sellerStore = localStorage.getItem('seller');\n            let sellerData = sellerStore && JSON.parse(sellerStore)[0];\n            this.sellerName = sellerData.name;\n            this.menuType = 'seller';\n          } else if (localStorage.getItem('user')) {\n            // Get user information from local storage and set user name\n            let userStore = localStorage.getItem('user');\n            let userData = userStore && JSON.parse(userStore);\n            this.userName = userData.name;\n            this.menuType = 'user';\n            // Get and set the cart list for the user\n            this.product.getCartList(userData.id);\n          } else {\n            this.menuType = 'default';\n          }\n        }\n      });\n      // Get cart items count from local storage and update it\n      let cartData = localStorage.getItem('localCart');\n      if (cartData) {\n        this.cartItems = JSON.parse(cartData).length;\n      }\n      this.product.cartData.subscribe(items => {\n        this.cartItems = items.length;\n      });\n    }\n    // Function to logout a seller\n    logout() {\n      localStorage.removeItem('seller');\n      this.route.navigate(['/']);\n    }\n    // Function to logout a user\n    userLogout() {\n      localStorage.removeItem('user');\n      this.route.navigate(['/user-auth']);\n      // Emit an empty cart data event using ProductService\n      this.product.cartData.emit([]);\n    }\n    // Function to search for products\n    searchProduct(query) {\n      if (query) {\n        const element = query.target;\n        this.product.searchProduct(element.value).subscribe(result => {\n          if (result.length > 5) {\n            result.length = 5;\n          }\n          this.searchResult = result;\n        });\n      }\n    }\n    // Function to hide search results\n    hideSearch() {\n      this.searchResult = undefined;\n    }\n    // Function to redirect to the product details page\n    redirectToDetails(id) {\n      this.route.navigate(['/details/' + id]);\n    }\n    // Function to submit the search query\n    submitSearch(val) {\n      console.warn(val);\n      this.route.navigate([`search/${val}`]);\n    }\n    static #_ = this.ɵfac = function HeaderComponent_Factory(t) {\n      return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HeaderComponent,\n      selectors: [[\"app-header\"]],\n      decls: 11,\n      vars: 5,\n      consts: [[1, \"navbar\", \"navbar-expand-lg\"], [1, \"container-fluid\"], [\"routerLink\", \"\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\", \"custom-toggler-icon\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\", 3, \"ngSwitch\"], [\"class\", \"navbar-nav me-auto mb-2 mb-lg-0\", 4, \"ngSwitchCase\"], [\"class\", \"nav-search\", 4, \"ngIf\"], [1, \"navbar-nav\", \"me-auto\", \"mb-2\", \"mb-lg-0\"], [1, \"nav-item\"], [\"routerLink\", \"\", 1, \"nav-link\", \"active\"], [\"routerLink\", \"seller-auth\", 1, \"nav-link\"], [\"routerLink\", \"seller-add-product\", 1, \"nav-link\"], [\"routerLink\", \"seller-home\", 1, \"nav-link\"], [1, \"nav-link\"], [\"href\", \"\", 1, \"nav-link\", 3, \"click\"], [\"routerLink\", \"user-auth\", 1, \"nav-link\"], [1, \"nav-link\", 3, \"routerLink\"], [\"routerLink\", \"my-orders\", 1, \"nav-link\"], [1, \"nav-link\", 3, \"click\"], [1, \"nav-search\"], [1, \"d-flex\"], [\"type\", \"search\", \"placeholder\", \"Search Products\", \"aria-label\", \"Search\", 1, \"form-control\", \"me-2\", 3, \"keyup\", \"blur\"], [\"searchInput\", \"\"], [1, \"btn\", \"btn-outline-success\", \"my-2\", \"my-sm-0\", \"custom-search-btn\", 3, \"click\"], [\"class\", \"suggested-search list-group\", 4, \"ngIf\"], [1, \"suggested-search\", \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\"], [3, \"mousedown\"]],\n      template: function HeaderComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n          i0.ɵɵtext(3, \"NFT SHOP\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 3);\n          i0.ɵɵelement(5, \"span\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 5);\n          i0.ɵɵtemplate(7, HeaderComponent_ul_7_Template, 23, 3, \"ul\", 6);\n          i0.ɵɵtemplate(8, HeaderComponent_ul_8_Template, 20, 5, \"ul\", 6);\n          i0.ɵɵtemplate(9, HeaderComponent_ul_9_Template, 17, 3, \"ul\", 6);\n          i0.ɵɵtemplate(10, HeaderComponent_div_10_Template, 7, 1, \"div\", 7);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngSwitch\", ctx.menuType);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngSwitchCase\", \"default\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngSwitchCase\", \"user\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngSwitchCase\", \"seller\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.menuType !== \"seller\");\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i3.NgSwitch, i3.NgSwitchCase, i1.RouterLink, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i3.TitleCasePipe],\n      styles: [\"nav[_ngcontent-%COMP%]{background-color:#4d4c4c}.navbar-brand[_ngcontent-%COMP%]{color:#ffba00}.nav-link[_ngcontent-%COMP%]{color:#f5f5f5}.custom-toggler-icon[_ngcontent-%COMP%]{background-color:#ffffff80;padding:2px;border-radius:6px}.suggested-search[_ngcontent-%COMP%]{position:absolute;top:40px;z-index:10;display:list-item!important;border:1px solid #ddd;background-color:#fff;width:300px;list-style-type:none}.suggested-search[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px;border:1px solid #ddd}.suggested-search[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:#8a2be2}.custom-search-btn[_ngcontent-%COMP%]{border-color:#ffba00;color:#f5f5f5}.custom-search-btn[_ngcontent-%COMP%]:hover{background-color:#ffba00;border-color:#ffba00;color:#000}\"]\n    });\n  }\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}