{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction CartPageComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"div\", 17);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 19);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 20)(11, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_div_12_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const cart_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeToCart(cart_r1.id));\n    });\n    i0.ɵɵtext(12, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cart_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", cart_r1.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", cart_r1.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cart_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: \", cart_r1.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantity: \", cart_r1.quantity, \"\");\n  }\n}\nexport let CartPageComponent = /*#__PURE__*/(() => {\n  class CartPageComponent {\n    constructor(product, router) {\n      this.product = product;\n      this.router = router;\n      this.priceSummary = {\n        price: 0,\n        discount: 0,\n        tax: 0,\n        delivery: 0,\n        total: 0\n      };\n    }\n    ngOnInit() {\n      // Call the loadDetails function when the component initializes\n      this.loadDetails();\n    }\n    // Function to remove an item from the cart\n    removeToCart(cartId) {\n      // Check if cartId exists and cartData is defined\n      cartId && this.cartData && this.product.removeToCart(cartId).subscribe(result => {\n        // Reload cart details after removing an item\n        this.loadDetails();\n      });\n    }\n    // Function to load cart details including price summary\n    loadDetails() {\n      // Fetch the current cart data from the ProductService\n      this.product.currentCart().subscribe(result => {\n        this.cartData = result;\n        console.warn(this.cartData);\n        let price = 0;\n        // Calculate the total price of items in the cart\n        result.forEach(item => {\n          if (item.quantity) {\n            price = price + +item.price * +item.quantity;\n          }\n        });\n        // Calculate the price summary\n        this.priceSummary.price = price;\n        this.priceSummary.discount = price / 10;\n        this.priceSummary.tax = price / 10;\n        this.priceSummary.delivery = 100;\n        this.priceSummary.total = price + price / 10 + 100 - price / 10;\n        // Redirect to the homepage if the cart is empty\n        if (!this.cartData.length) {\n          this.router.navigate(['/']);\n        }\n      });\n    }\n    // Function to navigate to the checkout page\n    checkout() {\n      this.router.navigate(['/checkout']);\n    }\n    static #_ = this.ɵfac = function CartPageComponent_Factory(t) {\n      return new (t || CartPageComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CartPageComponent,\n      selectors: [[\"app-cart-page\"]],\n      decls: 51,\n      vars: 6,\n      consts: [[1, \"cart-page\"], [1, \"heading-section\"], [1, \"heading-h4\"], [1, \"heading\"], [1, \"heading-p\"], [1, \"centered-container\"], [1, \"col-md-8\", \"details\"], [1, \"cart-items\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\", \"summary\", \"mt-4\"], [1, \"list-group\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"max-width\", \"btn\", \"btn-success\", \"btn-block\", \"mt-3\", 3, \"click\"], [1, \"cart-item\"], [1, \"item-image\"], [3, \"src\", \"alt\"], [1, \"item-details\"], [1, \"item-name\"], [1, \"item-price\"], [1, \"item-quantity\"], [1, \"item-actions\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n      template: function CartPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h4\", 2);\n          i0.ɵɵtext(3, \"Discover Exclusive NFTs\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵtext(5, \"Your NFT Cart\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 4);\n          i0.ɵɵtext(7, \" Welcome to your NFT cart, where you can review and manage your selected digital assets. Explore our exclusive collection of NFTs! \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(8, \"br\");\n          i0.ɵɵelementStart(9, \"div\", 5)(10, \"div\", 6)(11, \"div\", 7);\n          i0.ɵɵtemplate(12, CartPageComponent_div_12_Template, 13, 5, \"div\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(13, \"br\");\n          i0.ɵɵelementStart(14, \"div\", 9)(15, \"div\", 1)(16, \"h4\", 2);\n          i0.ɵɵtext(17, \"Review and Checkout\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 4);\n          i0.ɵɵtext(19, \" Take a final look at your NFTs before proceeding to checkout. Enjoy collecting unique digital assets with us! \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(20, \"br\");\n          i0.ɵɵelementStart(21, \"ul\", 10)(22, \"li\", 11)(23, \"span\");\n          i0.ɵɵtext(24, \"Amount:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"span\");\n          i0.ɵɵtext(26);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"li\", 11)(28, \"span\");\n          i0.ɵɵtext(29, \"Tax:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"span\");\n          i0.ɵɵtext(31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(32, \"li\", 11)(33, \"span\");\n          i0.ɵɵtext(34, \"Delivery:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"span\");\n          i0.ɵɵtext(36);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(37, \"li\", 11)(38, \"span\");\n          i0.ɵɵtext(39, \"Discount:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"span\");\n          i0.ɵɵtext(41);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(42, \"li\", 11)(43, \"span\")(44, \"h4\");\n          i0.ɵɵtext(45, \"Total\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(46, \"span\")(47, \"h4\");\n          i0.ɵɵtext(48);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(49, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function CartPageComponent_Template_button_click_49_listener() {\n            return ctx.checkout();\n          });\n          i0.ɵɵtext(50, \" Checkout \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngForOf\", ctx.cartData);\n          i0.ɵɵadvance(14);\n          i0.ɵɵtextInterpolate(ctx.priceSummary.price);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.priceSummary.tax);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.priceSummary.delivery);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.priceSummary.discount);\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(ctx.priceSummary.total);\n        }\n      },\n      dependencies: [i3.NgForOf],\n      styles: [\".centered-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.heading-section[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center}.heading-h4[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-size:14px}.heading[_ngcontent-%COMP%]{font-size:35px;font-weight:700;color:#ffba00}.heading-p[_ngcontent-%COMP%]{color:#a0a0a0;margin:.2rem 0 .2rem 1.5rem;font-size:1.1rem}.cart-page[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.cart-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.cart-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:5px;display:flex;flex-direction:column;align-items:center;padding:15px;max-width:300px;text-align:center;box-shadow:0 2px 4px #0000001a}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:150px;object-fit:contain}.item-details[_ngcontent-%COMP%]{margin-top:10px}.item-name[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-bottom:5px}.item-price[_ngcontent-%COMP%], .item-quantity[_ngcontent-%COMP%]{color:#777;font-size:14px;margin-bottom:5px}.item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545;color:#fff;padding:5px 10px;border-radius:5px;cursor:pointer}.item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130;box-shadow:#0000008f 0 22px 70px 4px;transition:.3s}.summary[_ngcontent-%COMP%]{margin-bottom:20px}.summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.summary[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{border:1px solid #ddd;list-style-type:none;padding:15px}.summary[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between}\"]\n    });\n  }\n  return CartPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}